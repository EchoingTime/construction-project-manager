<!--
@File Name: inbox.html
@Description: This file represents the message functionality of the web application. It displays messages
belonging to the current logged-in user, allowing users to view and send messages.
-->

<!--------------------- Base Template Extension --------------------->
{% extends 'base.html' %}
<!--------------------- HTML Title --------------------->
{% block title %}Inbox - Construction Project Manager{% endblock %}
<!--------------------- Main Page Content (PAGE SPECIFICS) --------------------->
{% block content %}
<!-- Place new content inside this block content -->
<section class="main-content-section">
  <h2>Inbox</h2>
  <h3>Send a message</h3>
  <form method="POST" action="{{url_for('views.send_message')}}">
    <label for="receiver_email">Recipient Email:</label>
    <input type="text" name="receiver_email" required />
    <label for="content">Message:</label>
    <textarea name="content" required></textarea>
    <button type="submit">Send</button>
  </form>
  <div>
    <h3>Messages</h3>
    {% if messages %} {% for message in messages %}
    <div>
      <p>
        <strong>{{message.sender_name }}</strong>: {{message.message_text }}
      </p>
      <p>{{message.timestamp }}</p>
    </div>
    {% endfor %} {% else %}
    <p>No messages found.</p>
    {% endif %}
  </div>
</section>
{% endblock %}
